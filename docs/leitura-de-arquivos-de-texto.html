<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>1 Leitura de arquivos de texto | Comandos básicos do R: Guia de bolso</title>
  <meta name="description" content="<p>Este livro resumo anotações de comandos e argumentos muito úteis no R, com o objetivo de
como auxiliar na execução te tarefas diárias básicas.</p>" />
  <meta name="generator" content="bookdown 0.26 and GitBook 2.6.7" />

  <meta property="og:title" content="1 Leitura de arquivos de texto | Comandos básicos do R: Guia de bolso" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="<p>Este livro resumo anotações de comandos e argumentos muito úteis no R, com o objetivo de
como auxiliar na execução te tarefas diárias básicas.</p>" />
  <meta name="github-repo" content="https://github.com/lucascgmermano/guia_de_bolso.git" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="1 Leitura de arquivos de texto | Comandos básicos do R: Guia de bolso" />
  
  <meta name="twitter:description" content="<p>Este livro resumo anotações de comandos e argumentos muito úteis no R, com o objetivo de
como auxiliar na execução te tarefas diárias básicas.</p>" />
  

<meta name="author" content="Lucas C. Germano" />


<meta name="date" content="2022-05-15" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="index.html"/>
<link rel="next" href="cross.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Guia de bolso R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Sobre este livro</a></li>
<li class="chapter" data-level="1" data-path="leitura-de-arquivos-de-texto.html"><a href="leitura-de-arquivos-de-texto.html"><i class="fa fa-check"></i><b>1</b> Leitura de arquivos de texto</a>
<ul>
<li class="chapter" data-level="1.1" data-path="leitura-de-arquivos-de-texto.html"><a href="leitura-de-arquivos-de-texto.html#definição-de-diretório-de-trabalho"><i class="fa fa-check"></i><b>1.1</b> Definição de diretório de trabalho</a></li>
<li class="chapter" data-level="1.2" data-path="leitura-de-arquivos-de-texto.html"><a href="leitura-de-arquivos-de-texto.html#arquivos-.csv"><i class="fa fa-check"></i><b>1.2</b> Arquivos .csv</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="leitura-de-arquivos-de-texto.html"><a href="leitura-de-arquivos-de-texto.html#read.csv2"><i class="fa fa-check"></i><b>1.2.1</b> read.csv2()</a></li>
<li class="chapter" data-level="1.2.2" data-path="leitura-de-arquivos-de-texto.html"><a href="leitura-de-arquivos-de-texto.html#readrread_csv2"><i class="fa fa-check"></i><b>1.2.2</b> readr::read_csv2()</a></li>
<li class="chapter" data-level="1.2.3" data-path="leitura-de-arquivos-de-texto.html"><a href="leitura-de-arquivos-de-texto.html#data.tablefread"><i class="fa fa-check"></i><b>1.2.3</b> data.table::fread()</a></li>
<li class="chapter" data-level="1.2.4" data-path="leitura-de-arquivos-de-texto.html"><a href="leitura-de-arquivos-de-texto.html#readodsread_ods"><i class="fa fa-check"></i><b>1.2.4</b> readODS::read_ods()</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="cross.html"><a href="cross.html"><i class="fa fa-check"></i><b>2</b> Cross-references</a>
<ul>
<li class="chapter" data-level="2.1" data-path="cross.html"><a href="cross.html#chapters-and-sub-chapters"><i class="fa fa-check"></i><b>2.1</b> Chapters and sub-chapters</a></li>
<li class="chapter" data-level="2.2" data-path="cross.html"><a href="cross.html#captioned-figures-and-tables"><i class="fa fa-check"></i><b>2.2</b> Captioned figures and tables</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="parts.html"><a href="parts.html"><i class="fa fa-check"></i><b>3</b> Parts</a></li>
<li class="chapter" data-level="4" data-path="footnotes-and-citations.html"><a href="footnotes-and-citations.html"><i class="fa fa-check"></i><b>4</b> Footnotes and citations</a>
<ul>
<li class="chapter" data-level="4.1" data-path="footnotes-and-citations.html"><a href="footnotes-and-citations.html#footnotes"><i class="fa fa-check"></i><b>4.1</b> Footnotes</a></li>
<li class="chapter" data-level="4.2" data-path="footnotes-and-citations.html"><a href="footnotes-and-citations.html#citations"><i class="fa fa-check"></i><b>4.2</b> Citations</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="blocks.html"><a href="blocks.html"><i class="fa fa-check"></i><b>5</b> Blocks</a>
<ul>
<li class="chapter" data-level="5.1" data-path="blocks.html"><a href="blocks.html#equations"><i class="fa fa-check"></i><b>5.1</b> Equations</a></li>
<li class="chapter" data-level="5.2" data-path="blocks.html"><a href="blocks.html#theorems-and-proofs"><i class="fa fa-check"></i><b>5.2</b> Theorems and proofs</a></li>
<li class="chapter" data-level="5.3" data-path="blocks.html"><a href="blocks.html#callout-blocks"><i class="fa fa-check"></i><b>5.3</b> Callout blocks</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="sharing-your-book.html"><a href="sharing-your-book.html"><i class="fa fa-check"></i><b>6</b> Sharing your book</a>
<ul>
<li class="chapter" data-level="6.1" data-path="sharing-your-book.html"><a href="sharing-your-book.html#publishing"><i class="fa fa-check"></i><b>6.1</b> Publishing</a></li>
<li class="chapter" data-level="6.2" data-path="sharing-your-book.html"><a href="sharing-your-book.html#pages"><i class="fa fa-check"></i><b>6.2</b> 404 pages</a></li>
<li class="chapter" data-level="6.3" data-path="sharing-your-book.html"><a href="sharing-your-book.html#metadata-for-sharing"><i class="fa fa-check"></i><b>6.3</b> Metadata for sharing</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Comandos básicos do R: Guia de bolso</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="leitura-de-arquivos-de-texto" class="section level1 hasAnchor" number="1">
<h1><span class="header-section-number">1</span> Leitura de arquivos de texto<a href="leitura-de-arquivos-de-texto.html#leitura-de-arquivos-de-texto" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="definição-de-diretório-de-trabalho" class="section level2 hasAnchor" number="1.1">
<h2><span class="header-section-number">1.1</span> Definição de diretório de trabalho<a href="leitura-de-arquivos-de-texto.html#definição-de-diretório-de-trabalho" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<table>
<colgroup>
<col width="47%" />
<col width="52%" />
</colgroup>
<thead>
<tr class="header">
<th>Comando</th>
<th>Definição</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>setwd()</td>
<td>Define diretório de trabalho.</td>
</tr>
<tr class="even">
<td>Ctrl + Shift + h</td>
<td>Abre janela de navegação para definir diretório.</td>
</tr>
<tr class="odd">
<td>file.choose()</td>
<td>Abre janela de navegação e ao selecionar o arquivo, ele retorna o caminho (diretório). Pode-se usar também dentro do comando, como em read.csv2(file = file.choose()).</td>
</tr>
<tr class="even">
<td>No RStudio: Session &gt; Setting Working Directory</td>
<td>Equivalente a Ctrl + Shift + h</td>
</tr>
<tr class="odd">
<td>Inserir aspas ’ ’ + Tab entre elas</td>
<td>Navegação que pode servir para explorar caminhos.</td>
</tr>
</tbody>
</table>
</div>
<div id="arquivos-.csv" class="section level2 hasAnchor" number="1.2">
<h2><span class="header-section-number">1.2</span> Arquivos .csv<a href="leitura-de-arquivos-de-texto.html#arquivos-.csv" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="read.csv2" class="section level3 hasAnchor" number="1.2.1">
<h3><span class="header-section-number">1.2.1</span> read.csv2()<a href="leitura-de-arquivos-de-texto.html#read.csv2" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>.csv = Arquivos separados por vírgula (,)<br />
.csv2 = Arquivos separados por ponto e vírgula (;)</p>
<p>Os argumentos das funções são os mesmos, por isso o exemplo será dado somente para .csv2 (mais usado)</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="leitura-de-arquivos-de-texto.html#cb1-1" aria-hidden="true" tabindex="-1"></a>dados <span class="ot">&lt;-</span> <span class="fu">read.csv2</span>(<span class="at">file =</span> <span class="st">&#39;dados/dados.csv&#39;</span>)</span>
<span id="cb1-2"><a href="leitura-de-arquivos-de-texto.html#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(dados, <span class="dv">5</span>)          <span class="co"># Exibir as 5 primeiras linhas dos dados.</span></span></code></pre></div>
<pre><code>##   X       data code_mn       muni   faixa casos obitos masc fem  ano mes semana
## 1 1 2020-01-01  353070 Mogi Guaçu 30 a 39     1      0    0   1 2020   1      1
## 2 2 2020-01-20  353070 Mogi Guaçu 50 a 59     1      0    1   0 2020   1      3
## 3 3 2020-01-29  352380      Itobi 30 a 39     1      0    1   0 2020   1      5
## 4 4 2020-01-30  353050     Mococa 70 a 79     1      0    0   1 2020   1      5
## 5 5 2020-02-02  353080 Mogi Mirim 40 a 49     1      0    0   1 2020   2      5
##      pop
## 1 150713
## 2 150713
## 3   7830
## 4  68788
## 5  92715</code></pre>
<p><Br></p>
<p><strong>Argumentos principais</strong></p>
<p>Os argumentos são os mesmos da função read.table().</p>
<table>
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead>
<tr class="header">
<th>Argumento</th>
<th>Definição</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>file</td>
<td>Nome do arquivo que será lido, contendo o caminho do diretório.</td>
</tr>
<tr class="even">
<td>header</td>
<td>Logical. Indica se o arquivo contém os nomes das colunas na primeira linha</td>
</tr>
<tr class="odd">
<td>sep</td>
<td>Tipo de separador de campo. Default é = “;”.</td>
</tr>
<tr class="even">
<td>dec</td>
<td>Tipo de separador de decimal. Default é = “.”.</td>
</tr>
<tr class="odd">
<td>nrows</td>
<td>Integer. Número máximo de linhas a serem lidas.</td>
</tr>
<tr class="even">
<td>skip</td>
<td>Integer. Número de linhas que serão puladas antes de iniciar a leitura dos dados.</td>
</tr>
<tr class="odd">
<td>fill</td>
<td>Logical. Se TRUE, caso as linhas tenham comprimento desigual, seão adicionados campos em branco.</td>
</tr>
<tr class="even">
<td>blank.lines.skip</td>
<td>Logical. Se TRUE linhas vazias serão ignoradas.</td>
</tr>
<tr class="odd">
<td>stringsAsFactors</td>
<td>Logical. Se TRUE os vetores character serão convertidos para factors. Se houver distorção dos caracteres, utilizar FALSE para serem mantidos os caracteres originais, sem conversão.</td>
</tr>
<tr class="even">
<td>fileEncoding</td>
<td>Character string. Define o encoding que será usado. Ex. fileEnconding = “UTF-8” ou “Latin-1” ou “ISO-8859-1”.</td>
</tr>
<tr class="odd">
<td>skipNull</td>
<td>Logical. Se TRUE os nulos (NA) devem ser ignorados.</td>
</tr>
<tr class="even">
<td>colClasses</td>
<td>character. Um vetor de classes referentes as colunas. Valores possíveis são NA (default, quando type.convert é usado), “NULL” (quando a coluna é pulada), um vetor atomico de classes(logical, integer, numeric, complex, character, raw), or “factor”, “Date” or “POSIXct”.</td>
</tr>
</tbody>
</table>
<p><Br></p>
</div>
<div id="readrread_csv2" class="section level3 hasAnchor" number="1.2.2">
<h3><span class="header-section-number">1.2.2</span> readr::read_csv2()<a href="leitura-de-arquivos-de-texto.html#readrread_csv2" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><strong>Exemplo 1</strong></p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="leitura-de-arquivos-de-texto.html#cb3-1" aria-hidden="true" tabindex="-1"></a>dados <span class="ot">&lt;-</span> readr<span class="sc">::</span><span class="fu">read_csv2</span>(<span class="at">file =</span> <span class="st">&#39;dados/dados.csv&#39;</span>,  <span class="co"># Caminho e arquivo</span></span>
<span id="cb3-2"><a href="leitura-de-arquivos-de-texto.html#cb3-2" aria-hidden="true" tabindex="-1"></a>                          <span class="at">col_select =</span> <span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">4</span><span class="sc">:</span><span class="dv">7</span>),     <span class="co"># Seleção de colunas de forma numérica (é incompativel com col_names)</span></span>
<span id="cb3-3"><a href="leitura-de-arquivos-de-texto.html#cb3-3" aria-hidden="true" tabindex="-1"></a>                          <span class="at">guess_max =</span> <span class="dv">1000</span>,          <span class="co"># Máximo de linhas utilizadas para adivinhar classes</span></span>
<span id="cb3-4"><a href="leitura-de-arquivos-de-texto.html#cb3-4" aria-hidden="true" tabindex="-1"></a>                          <span class="at">skip_empty_rows =</span> <span class="cn">TRUE</span>)    <span class="co"># Pular linhas vazias</span></span>
<span id="cb3-5"><a href="leitura-de-arquivos-de-texto.html#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(dados, <span class="dv">5</span>)                                       <span class="co"># Exibir as 5 primeiras linhas dos dados.</span></span></code></pre></div>
<pre><code>## # A tibble: 5 × 5
##   data       muni       faixa   casos obitos
##   &lt;date&gt;     &lt;chr&gt;      &lt;chr&gt;   &lt;dbl&gt;  &lt;dbl&gt;
## 1 2020-01-01 Mogi Guaçu 30 a 39     1      0
## 2 2020-01-20 Mogi Guaçu 50 a 59     1      0
## 3 2020-01-29 Itobi      30 a 39     1      0
## 4 2020-01-30 Mococa     70 a 79     1      0
## 5 2020-02-02 Mogi Mirim 40 a 49     1      0</code></pre>
<p><Br></p>
<p><strong>Exemplo 2</strong></p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="leitura-de-arquivos-de-texto.html#cb5-1" aria-hidden="true" tabindex="-1"></a>dados <span class="ot">&lt;-</span> readr<span class="sc">::</span><span class="fu">read_csv2</span>(<span class="st">&#39;dados/dados.csv&#39;</span>,                    <span class="co"># Caminho e arquivo</span></span>
<span id="cb5-2"><a href="leitura-de-arquivos-de-texto.html#cb5-2" aria-hidden="true" tabindex="-1"></a>                          <span class="at">guess_max =</span> <span class="dv">1000</span>,                     <span class="co"># Máximo de linhas utilizadas para adivinhar classes</span></span>
<span id="cb5-3"><a href="leitura-de-arquivos-de-texto.html#cb5-3" aria-hidden="true" tabindex="-1"></a>                          <span class="at">skip_empty_rows =</span> <span class="cn">TRUE</span>,               <span class="co"># Pular linhas vazias</span></span>
<span id="cb5-4"><a href="leitura-de-arquivos-de-texto.html#cb5-4" aria-hidden="true" tabindex="-1"></a>                          <span class="at">skip =</span> <span class="dv">1</span>,                             <span class="co"># Pular primeira linha</span></span>
<span id="cb5-5"><a href="leitura-de-arquivos-de-texto.html#cb5-5" aria-hidden="true" tabindex="-1"></a>                          <span class="at">col_names =</span> <span class="fu">c</span>(<span class="st">&#39;a&#39;</span>,<span class="st">&#39;b&#39;</span>,<span class="st">&#39;c&#39;</span>,<span class="st">&#39;d&#39;</span>,<span class="st">&#39;e&#39;</span>),   <span class="co"># Definir nomes das colunas</span></span>
<span id="cb5-6"><a href="leitura-de-arquivos-de-texto.html#cb5-6" aria-hidden="true" tabindex="-1"></a>                          <span class="at">col_select =</span> <span class="fu">c</span>(<span class="st">&#39;a&#39;</span>,<span class="st">&#39;b&#39;</span>,<span class="st">&#39;c&#39;</span>,<span class="st">&#39;d&#39;</span>,<span class="st">&#39;e&#39;</span>))  <span class="co"># Selecionar colunas</span></span>
<span id="cb5-7"><a href="leitura-de-arquivos-de-texto.html#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(dados, <span class="dv">5</span>)                                                  <span class="co"># Exibir as 5 primeiras linhas dos dados.</span></span></code></pre></div>
<pre><code>## # A tibble: 5 × 5
##       a b               c d          e      
##   &lt;dbl&gt; &lt;date&gt;      &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;  
## 1     1 2020-01-01 353070 Mogi Guaçu 30 a 39
## 2     2 2020-01-20 353070 Mogi Guaçu 50 a 59
## 3     3 2020-01-29 352380 Itobi      30 a 39
## 4     4 2020-01-30 353050 Mococa     70 a 79
## 5     5 2020-02-02 353080 Mogi Mirim 40 a 49</code></pre>
<p><Br></p>
<p><strong>Argumentos principais</strong></p>
<table>
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead>
<tr class="header">
<th>Argumento</th>
<th>Definição</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>file</td>
<td>Nome do arquivo que será lido, contendo o caminho do diretório (admite http). Arquivos terminados em .gz, .bz2, .xz, ou .zip serão automaticamente descomprimidos.</td>
</tr>
<tr class="even">
<td>col_names</td>
<td>TRUE ou FALSE ou um vetor tipo caracter com nomes das colunas. Se TRUE, a primeira linha será usada para nomear as colunas. Se FALSE, nomes das colunas serão gerados automaticamente (X1, X2, X3 etc). Se col_names for um vetor com nomes, os valores serão usados como nomes das colunas, mas a primeira linha será considerada no banco (nomes errados), assim, pode-se usar o argumento renomeando as colunas, mas fazendo a leitura sem considerar a primeira linha, com [-1,] ou skip = 1. Colunas sem nome (NA) receberão nomes fictícios.</td>
</tr>
<tr class="odd">
<td>col_types</td>
<td>Se for NULL, todos as classes de coluna serão imputadas a partir do máximo de linhas lidas (guess_max) intercaladas por todo o arquivo. Se a imputação falhar, você precisará aumentar o guess_max ou fornecer os tipos corretos você mesmo. As especificações de coluna criadas por list() ou cols() devem conter uma especificação de coluna para cada coluna. Se você quiser ler apenas um subconjunto das colunas, use cols_only(). Para compactar um vetor com as classes, usar as letras c = character, i = integer, n = number, d = double, l = logical, f = factor, D = date, T = date time, t = time, ? = guess, _ or - = skip; Por padrão, a leitura de um arquivo sem uma especificação de coluna imprimirá uma mensagem mostrando o que o leitor adivinhou. Para remover esta mensagem, defina show_col_types = FALSE ou defina ’options(readr.show_col_types = FALSE).</td>
</tr>
<tr class="even">
<td>col_select</td>
<td>Colunas a serem incluídas nos resultados, equivale a dplyr::select() para se referir às colunas pelo nome. Use c() ou list() para usar mais de uma expressão de seleção. Embora esse uso seja menos comum, col_select também aceita um índice de coluna numérica.</td>
</tr>
<tr class="odd">
<td>locale</td>
<td>A localidade controla os padrões que variam de lugar para lugar. A localidade padrão é centrada nos EUA (como R), mas você pode usar locale() para criar sua própria localidade que controla coisas como o fuso horário padrão, codificação, marca decimal, marca grande e nomes de dia/mês.</td>
</tr>
<tr class="even">
<td>na</td>
<td>Vetor de caracteres de strings para interpretar como valores ausentes. Defina esta opção como character() para indicar que não há valores ausentes.</td>
</tr>
<tr class="odd">
<td>trim_ws</td>
<td>Os espaços em branco à esquerda e à direita (espaços e tabulações ASCII) devem ser cortados de cada campo antes de analisá-lo?</td>
</tr>
<tr class="even">
<td>skip</td>
<td>Número de linhas para pular antes de ler os dados.</td>
</tr>
<tr class="odd">
<td>n_max</td>
<td>Número máximo de linhas a ler.</td>
</tr>
<tr class="even">
<td>guess_max</td>
<td>Número máximo de linhas a serem usadas para adivinhar os tipos de coluna.</td>
</tr>
<tr class="odd">
<td>show_col_types</td>
<td>Se FALSE, não mostre os tipos de coluna adivinhados. Se TRUE sempre mostra os tipos de coluna, mesmo que sejam fornecidos. Se NULL (o padrão) mostrar apenas os tipos de coluna se eles não forem fornecidos explicitamente pelo argumento col_types.</td>
</tr>
<tr class="even">
<td>skip_empty_rows</td>
<td>As linhas em branco devem ser ignoradas completamente? ou seja, se esta opção for TRUE, as linhas em branco não serão representadas. Se for FALSE, eles serão representados por valores NA em todas as colunas.</td>
</tr>
</tbody>
</table>
<p><Br></p>
</div>
<div id="data.tablefread" class="section level3 hasAnchor" number="1.2.3">
<h3><span class="header-section-number">1.2.3</span> data.table::fread()<a href="leitura-de-arquivos-de-texto.html#data.tablefread" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Tem a vantagem de realizar a leitura de arquivos grandes de forma rápida. Além disso, tem boa capacidade de identificar automaticamente o separador, encoding e tipos de classes. O resultado padrão é um objeto data.table, mas pode-se mudar para data.frame.</p>
<p><Br></p>
<p><strong>Exemplo 1</strong></p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="leitura-de-arquivos-de-texto.html#cb7-1" aria-hidden="true" tabindex="-1"></a>dados <span class="ot">&lt;-</span> data.table<span class="sc">::</span><span class="fu">fread</span>(<span class="at">file =</span> <span class="st">&#39;dados/dados.csv&#39;</span>,            <span class="co"># Caminho do arquivo</span></span>
<span id="cb7-2"><a href="leitura-de-arquivos-de-texto.html#cb7-2" aria-hidden="true" tabindex="-1"></a>                           <span class="at">select =</span> <span class="fu">c</span>(<span class="st">&quot;data&quot;</span>,<span class="st">&quot;muni&quot;</span>,<span class="st">&quot;casos&quot;</span>),   <span class="co"># Seleciona colunas</span></span>
<span id="cb7-3"><a href="leitura-de-arquivos-de-texto.html#cb7-3" aria-hidden="true" tabindex="-1"></a>                           <span class="at">colClasses =</span> <span class="fu">c</span>(<span class="at">data =</span> <span class="st">&quot;Date&quot;</span>,        <span class="co"># Define classes</span></span>
<span id="cb7-4"><a href="leitura-de-arquivos-de-texto.html#cb7-4" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">muni =</span> <span class="st">&quot;character&quot;</span>,</span>
<span id="cb7-5"><a href="leitura-de-arquivos-de-texto.html#cb7-5" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">casos =</span> <span class="st">&quot;integer&quot;</span>),</span>
<span id="cb7-6"><a href="leitura-de-arquivos-de-texto.html#cb7-6" aria-hidden="true" tabindex="-1"></a>                           <span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">&quot;data.in.sin&quot;</span>,         <span class="co"># Renomeia colunas</span></span>
<span id="cb7-7"><a href="leitura-de-arquivos-de-texto.html#cb7-7" aria-hidden="true" tabindex="-1"></a>                                         <span class="st">&quot;municipio&quot;</span>, </span>
<span id="cb7-8"><a href="leitura-de-arquivos-de-texto.html#cb7-8" aria-hidden="true" tabindex="-1"></a>                                         <span class="st">&quot;num_casos&quot;</span>)) </span>
<span id="cb7-9"><a href="leitura-de-arquivos-de-texto.html#cb7-9" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(dados, <span class="dv">5</span>)</span></code></pre></div>
<pre><code>##    data.in.sin  municipio num_casos
## 1:  2020-01-01 Mogi Guaçu         1
## 2:  2020-01-20 Mogi Guaçu         1
## 3:  2020-01-29      Itobi         1
## 4:  2020-01-30     Mococa         1
## 5:  2020-02-02 Mogi Mirim         1</code></pre>
<p><Br></p>
<p><strong>Argumentos principais</strong></p>
<table>
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead>
<tr class="header">
<th>Argumento</th>
<th>Definição</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>file</td>
<td>Nome do arquivo no diretório de trabalho, caminho para o arquivo ou um URL começando <a href="http://" class="uri">http://</a>, <a href="file://" class="uri">file://</a>, etc. Arquivos compactados ‘.gz’ e ‘.bz2’ são suportados se o pacote R.utils estiver instalado.</td>
</tr>
<tr class="even">
<td>sep</td>
<td>O separador entre colunas. O padrão é o caractere no conjunto [,\\|;:].</td>
</tr>
<tr class="odd">
<td>nrows</td>
<td>Número máximo de linhas a serem lidas.</td>
</tr>
<tr class="even">
<td>header</td>
<td>Logical. Primeria linha é o nome das colunas.</td>
</tr>
<tr class="odd">
<td>na.strings</td>
<td>Para ler NA, como NA, defina na.strings=“NA”. Para ler ,, como string em branco ““, defina na.strings=NULL.</td>
</tr>
<tr class="even">
<td>stringsAsFactors</td>
<td>Converter todas as colunas de caracteres em fatores?</td>
</tr>
<tr class="odd">
<td>skip</td>
<td>skip&gt;0 ignora as primeiras linhas. skip=“string” procura por “string” no arquivo (por exemplo, uma substring da linha de nomes de coluna) e começa nessa linha (inspirada em read.xls no pacote gdata).</td>
</tr>
<tr class="even">
<td>select</td>
<td>Um vetor de nomes de colunas ou números para manter e eliminar as demais. Pode especificar também tipos da mesma forma que colClasses; ou seja, um vetor de pares colname=type, ou uma lista de pares type=col(s). Em todas as formas de seleção, a ordem em que as colunas são especificadas determina a ordem das colunas no resultado.</td>
</tr>
<tr class="odd">
<td>drop</td>
<td>Vetor de nomes de colunas ou números a serem descartados, mantenha o resto.</td>
</tr>
<tr class="even">
<td>colClasses</td>
<td>Pode receber um vetor ou lista nomeado especificando tipos para um subconjunto das colunas por nome. O padrão NULL significa que os tipos são inferidos automaticamente. Ex1 - colClasses = c(“Date”, “character”,“integer”), neste caso as classes vão compor as classes das colunas na ordem posta. Ex2 - colClasses = c(“data” = “Date”, “idade” = “integer”), nesse caso estou indicando as classes somente de algumas variaveis. Funciona também no read.csv2.</td>
</tr>
<tr class="odd">
<td>dec</td>
<td>Separador de decimal como em read.csv2.</td>
</tr>
<tr class="even">
<td>col.names</td>
<td>Inserir um vetor de nomes para as colunas se quiser substituir os originais. Se houver alguma coluna original sem título (NA), ela será renomeada automaticamente com “V”+ o numero que corresponde no banco (V1,V2,V3).</td>
</tr>
<tr class="odd">
<td>encoding</td>
<td>Default is “unknown”. Outras possíveis opções são “UTF-8” e “Latin-1”. Porém, não é usado para recodificar, em vez disso, permite o manuseio de strings codificadas em sua codificação nativa.</td>
</tr>
<tr class="even">
<td>strip.white</td>
<td>O padrão é TRUE. Retira espaços em branco à esquerda e à direita de campos não citados. Se FALSE, apenas os espaços à direita do cabeçalho serão removidos.</td>
</tr>
<tr class="odd">
<td>fill</td>
<td>Logical, o padrão é FALSE. Se TRUE, caso as linhas tenham comprimento desigual, os campos em branco serão preenchidos implicitamente.</td>
</tr>
<tr class="even">
<td>blank.lines.skip</td>
<td>Logical, o padrão é FALSE. Se TRUE, as linhas em branco serão ignoradas.</td>
</tr>
<tr class="odd">
<td>showProgress</td>
<td>TRUE exibe o progresso no console se o ETA for maior que 3 segundos.</td>
</tr>
<tr class="even">
<td>data.table</td>
<td>TRUE retorna um data.table (default). FALSE retorna um data.frame. O default para este argumento pode ser modificado com opcões(datatable.fread.datatable=FALSE).</td>
</tr>
<tr class="odd">
<td>nThread</td>
<td>Número de threads a serem usados. Experimente para ver o que funciona melhor para seus dados em seu hardware.</td>
</tr>
<tr class="even">
<td>KeepLeadingZeros</td>
<td>Se for TRUE, dados numéricos com zeros à esquerda seão lidos como caracterer, caso contrário, os zeros à esquerda serão removidos e convertidos em numéricos.</td>
</tr>
</tbody>
</table>
<p><Br></p>
</div>
<div id="readodsread_ods" class="section level3 hasAnchor" number="1.2.4">
<h3><span class="header-section-number">1.2.4</span> readODS::read_ods()<a href="leitura-de-arquivos-de-texto.html#readodsread_ods" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Leitura de arquivos no formato .ods do Libre Office, em que le uma planilha individual e retorna um data.frame.</p>
<p><strong>Exemplo 1</strong></p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="leitura-de-arquivos-de-texto.html#cb9-1" aria-hidden="true" tabindex="-1"></a>dados <span class="ot">&lt;-</span> readODS<span class="sc">::</span><span class="fu">read_ods</span>(<span class="at">path =</span> <span class="st">&#39;dados/planilha_ods.ods&#39;</span>,  <span class="co"># Caminho do arquivo</span></span>
<span id="cb9-2"><a href="leitura-de-arquivos-de-texto.html#cb9-2" aria-hidden="true" tabindex="-1"></a>                           <span class="at">col_names =</span> <span class="cn">FALSE</span>,                <span class="co"># Primeira linha contém nomes das colunas</span></span>
<span id="cb9-3"><a href="leitura-de-arquivos-de-texto.html#cb9-3" aria-hidden="true" tabindex="-1"></a>                           <span class="at">sheet =</span> <span class="dv">1</span>,                        <span class="co"># Seleção da planilha</span></span>
<span id="cb9-4"><a href="leitura-de-arquivos-de-texto.html#cb9-4" aria-hidden="true" tabindex="-1"></a>                           <span class="at">range =</span> <span class="st">&quot;A7:B14&quot;</span>)                 <span class="co"># Intervalo para leitura</span></span>
<span id="cb9-5"><a href="leitura-de-arquivos-de-texto.html#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(dados)</span></code></pre></div>
<pre><code>##     A   B
## 1 113 381
## 2  29 112
## 3  23  25
## 4  29 152
## 5  87  NA
## 6  40  27</code></pre>
<p><Br></p>
<p><strong>Argumentos principais</strong></p>
<table>
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead>
<tr class="header">
<th>Argumento</th>
<th>Definição</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>path</td>
<td>Caminho do arquivo ods.</td>
</tr>
<tr class="even">
<td>sheet</td>
<td>Planilha que será lida. Default e 1. Pode ser o nome da planilha (ex. “semana1”) ou um número correspondente a planilha.</td>
</tr>
<tr class="odd">
<td>col_names</td>
<td>Indica se a primeira linha contem os nomes das colunas.</td>
</tr>
<tr class="even">
<td>skip</td>
<td>Número de linhas a pular antes de iniciar a leitura dos dados.</td>
</tr>
<tr class="odd">
<td>formula_as_formula</td>
<td>Exibir fórmulas como fórmulas “SUM(A1:A3)” ou como valores “3”… ou “8”..</td>
</tr>
<tr class="even">
<td>range</td>
<td>Seleção de retângulo usando intervalo de células semelhante ao Excel, como intervalo = “D12:F15” ou intervalo = “R1C12:R6C15”. O processamento de intervalo de células é tratado pelo pacote cellranger.</td>
</tr>
<tr class="odd">
<td>row_names</td>
<td>Indica se o arquivo contém os nomes das linhas na primeira coluna</td>
</tr>
<tr class="even">
<td>strings_as_factors</td>
<td>Logical. Se variáveis tipo character serão convertidas a fatores.</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="cross.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/USERNAME/REPO/edit/BRANCH/01-leitura_arquivos.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["guia_bolso_R.pdf", "guia_bolso_R.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
